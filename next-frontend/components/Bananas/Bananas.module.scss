@use "styles/typography";

@keyframes rotate {
  50% {
    transform: rotate(var(--rotate-ani)) translate3d(var(--translate), 0, 0);
  }
}

.root {
  opacity: 0;
  padding-bottom: 12%;
  padding-left: 24%;
  padding-right: 13%;
  transition: opacity 1s ease-in-out;

  &.hasLoaded {
    opacity: 1;
  }
}

.list {
  display: inline-block;
  list-style: none;
  margin: 0;
  padding: 0;
  position: relative;
  transform: translateX(-31%);
}

.item {
  background-color: transparent;
  clip-path: var(--short-banana-clip-path);
  display: inline-block;
  font-size: 0;
  margin: 0;
  padding: 0;
  pointer-events: none;
  transform: rotate(var(--rotate)) translate3d(var(--translate), 0, 0);
  transform-origin: calc(var(--transform-origin) + var(--translate)) 0;
  transition: transform 0.5s;
  user-select: none;

  .shouldJiggle & {
    animation: rotate var(--duration) ease-in-out infinite forwards;
  }

  &:hover,
  &:focus {
    background-color: var(--blue-01);
  }

  &:nth-child(1) {
    --transform-origin: 10%;
    --translate: 50%;
    --rotate: 50deg;
    --rotate-ani: 54deg;
    --duration: 4s;

    position: relative;
    z-index: 3;
  }

  &:nth-child(2) {
    --transform-origin: 10%;
    --translate: 50%;
    --rotate: 25deg;
    --rotate-ani: 22deg;
    --duration: 3s;

    left: 0;
    position: absolute;
    top: 0;
    z-index: 2;
  }

  &:nth-child(3) {
    --transform-origin: 10%;
    --translate: 50%;
    --rotate: 0deg;
    --rotate-ani: 3deg;
    --duration: 4s;

    left: 0;
    position: absolute;
    top: 0;
    z-index: 1;
  }
}

.anchor {
  @include typography.heading-3;

  color: black;
  left: 29%;
  padding: 20px;
  pointer-events: all;
  position: absolute;
  top: 64%;
  transform: translate(-50%, -50%);
  z-index: 1;

  &::after {
    bottom: -3px;
    content: "";
    display: block;
    height: 1px;
    position: relative;
    width: 100%;
  }

  &:hover::after {
    background-color: black;
  }
}
